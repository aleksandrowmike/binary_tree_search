{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/binary-tree-node.ts","src/binary-tree.ts","src/test.ts"],"names":[],"mappings":"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","file":"bundel.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","export class BinaryTreeNode<T> {\r\n    private _Left: BinaryTreeNode<T>;\r\n    private _Right: BinaryTreeNode<T>;\r\n    private _Key: number;\r\n    private _Data: T;\r\n    constructor(insertData: T, key: number) {\r\n        this._Data = insertData;\r\n        this._Key = key;\r\n    }\r\n    public printNode(): object {\r\n        const tree: object[] = [];\r\n        tree.push({\r\n            \"key\": this._Key,\r\n            \"data\": this._Data,\r\n            \"leftChild\": this._Left,\r\n            \"rightChild\": this._Right\r\n        });\r\n        return tree;\r\n    }\r\n    public getLeft(): BinaryTreeNode<T> {\r\n        return this._Left;\r\n    }\r\n    public setLeft(value: BinaryTreeNode<T>): void {\r\n        this._Left = value;\r\n    }\r\n    public setRight(value: BinaryTreeNode<T>): void {\r\n        this._Right = value;\r\n    }\r\n    public getRight(): BinaryTreeNode<T> {\r\n        return this._Right;\r\n    }\r\n    public getKey(): number {\r\n        return this._Key;\r\n    }\r\n}\r\n","import { BinaryTreeNode } from \"./binary-tree-node\";\r\nexport class BinaryTree<T> {\r\n    private _root: BinaryTreeNode<T>;\r\n    public find(key: number): BinaryTreeNode<T> {\r\n        let current: BinaryTreeNode<T> = this._root;\r\n        while (current.getKey() !== key) {\r\n            current = key < current.getKey() ? current.getLeft() : current.getRight();\r\n            if (current === undefined) { return null; }\r\n        }\r\n        return current;\r\n    }\r\n    public insert(insertData: T, key: number): void {\r\n        let current: BinaryTreeNode<T> = this._root;\r\n        let parent: BinaryTreeNode<T>;\r\n        const newNode: BinaryTreeNode<T> = new BinaryTreeNode<T>(insertData, key);\r\n        if (this._root === undefined) { this._root = newNode; } else {\r\n            while (true) {\r\n                parent = current;\r\n                if (key < current.getKey()) {\r\n                    current = current.getLeft();\r\n                    if (current === undefined) {\r\n                        parent.setLeft(newNode);\r\n                        return;\r\n                    }\r\n                } else {\r\n                    current = current.getRight();\r\n                    if (current === undefined) {\r\n                        parent.setRight(newNode);\r\n                        return;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n    }\r\n    public print(startNode: BinaryTreeNode<T>): void {\r\n        if (startNode !== undefined) {\r\n            if (startNode.getLeft() !== undefined) {\r\n                const left = document.createElement(\"div\");\r\n                left.id = \"\" + startNode.getLeft().getKey();\r\n                left.setAttribute(\"data-branch\", \"left\");\r\n                const text = document.createElement(\"span\");\r\n                text.append(startNode.getLeft().getKey().toString());\r\n                left.appendChild(text);\r\n                if (document.getElementById(startNode.getKey().toString())) {\r\n                    document.getElementById(startNode.getKey().toString()).appendChild(left);\r\n                } else {\r\n                    document.getElementById(startNode.getKey().toString()).appendChild(left);\r\n                }\r\n                this.print(startNode.getLeft());\r\n                if (startNode.getRight()) {\r\n                    left.classList.add(\"left\");\r\n                }\r\n                if (startNode.getLeft()) {\r\n                    left.classList.add(\"left\");\r\n                }\r\n            }\r\n            if (startNode.getRight() !== undefined) {\r\n                const right = document.createElement(\"div\");\r\n                right.id = \"\" + startNode.getRight().getKey();\r\n                right.setAttribute(\"data-branch\", \"right\");\r\n                const text = document.createElement(\"span\");\r\n                text.append(startNode.getRight().getKey().toString());\r\n                right.appendChild(text);\r\n                if (document.getElementById(startNode.getKey().toString())) {\r\n                    document.getElementById(startNode.getKey().toString()).appendChild(right);\r\n                }\r\n                this.print(startNode.getRight());\r\n                if (startNode.getRight()) {\r\n                    right.classList.add(\"right\");\r\n                }\r\n            }\r\n        }\r\n    }\r\n    public getSuccessor(deleteNode: BinaryTreeNode<T>): BinaryTreeNode<T> {\r\n        let parentSuccessor: BinaryTreeNode<T>;\r\n        let successor: BinaryTreeNode<T> = deleteNode;\r\n        let current: BinaryTreeNode<T> = successor.getRight();\r\n        while (current !== undefined) {\r\n            parentSuccessor = successor;\r\n            successor = current;\r\n            current = current.getLeft();\r\n        }\r\n        if (successor !== deleteNode.getRight()) {\r\n            parentSuccessor.setLeft(successor.getRight());\r\n            successor.setRight(deleteNode.getRight());\r\n        }\r\n        return successor;\r\n    }\r\n    public delete(key: number): boolean {\r\n        let current: BinaryTreeNode<T> = this._root;\r\n        let parent: BinaryTreeNode<T>;\r\n        let isLeft: boolean = false;\r\n        while (current.getKey() !== key) {\r\n            parent = current;\r\n            if (key < current.getKey()) {\r\n                current = current.getLeft();\r\n                isLeft = true;\r\n            } else {\r\n                isLeft = false;\r\n                current = current.getRight();\r\n            }\r\n            if (current === undefined) { return false; }\r\n        }\r\n        if (current.getLeft() === undefined && current.getRight() === undefined) {\r\n            if (current === this._root) {\r\n                current = undefined;\r\n            } else if (isLeft) {\r\n                parent.setLeft(undefined);\r\n            } else {\r\n                parent.setRight(undefined);\r\n            }\r\n        } else if (current.getRight() === undefined) {\r\n            if (current === this._root) {\r\n                this._root = current.getLeft();\r\n            } else if (isLeft) {\r\n                parent.setLeft(current.getLeft());\r\n            } else {\r\n                current.setRight(current.getLeft());\r\n            }\r\n        } else if (current.getLeft() === undefined) {\r\n            if (current === this._root) {\r\n                this._root = current.getRight();\r\n            } else if (isLeft) {\r\n                parent.setLeft(current.getRight());\r\n            } else {\r\n                parent.setRight(current.getRight());\r\n            }\r\n        } else {\r\n            const successor: BinaryTreeNode<T> = this.getSuccessor(current);\r\n            console.log(successor);\r\n            if (current === this._root) {\r\n                this._root = successor;\r\n            } else if (isLeft) {\r\n                parent.setLeft(successor);\r\n            } else {\r\n                parent.setRight(successor);\r\n            }\r\n            successor.setLeft(current.getLeft());\r\n        }\r\n        return true;\r\n    }\r\n    public createRoot(key: number): void {\r\n        const root = document.createElement(\"div\");\r\n        root.id = \"\" + key;\r\n        root.setAttribute(\"data-branch\", \"root\");\r\n        const text = document.createElement(\"span\");\r\n        text.append(key.toString());\r\n        text.classList.add(\"root-text\");\r\n        root.appendChild(text);\r\n        document.getElementById(\"container\").appendChild(root);\r\n    }\r\n}\r\n","import { BinaryTree } from \"./binary-tree\";\r\nimport { BinaryTreeNode } from \"./binary-tree-node\";\r\n\r\nconst Tree: BinaryTree<string> = new BinaryTree<string>();\r\n\r\nTree.insert(\"John\", 3);\r\nTree.insert(\"T1000\", 8);\r\nTree.insert(\"T1500\", 15);\r\nTree.insert(\"T500\", 5);\r\nTree.insert(\"T1200\", 12);\r\nTree.insert(\"T1100\", 11);\r\nTree.insert(\"T1300\", 13);\r\nTree.insert(\"T1000\", 10);\r\nTree.insert(\"T1000\", 17);\r\nTree.insert(\"Sara\", 1);\r\nTree.insert(\"T800\", 2);\r\nTree.insert(\"T400\", 4);\r\nTree.insert(\"T900\", 9);\r\n\r\nlet key: number = 3;\r\nlet finds: BinaryTreeNode<string> = Tree.find(key);\r\nTree.createRoot(key);\r\nTree.print(finds);\r\n\r\nconst add = document.getElementById(\"add\");\r\nadd.addEventListener(\"click\", () => {\r\n    Tree.insert((<HTMLInputElement>document.getElementById(\"addKey\")).value, Number((<HTMLInputElement>document.getElementById(\"addKey\")).value));\r\n    document.getElementById(\"container\").innerHTML = \"\";\r\n    Tree.createRoot(key);\r\n    Tree.print(finds);\r\n});\r\n\r\nconst del = document.getElementById(\"delete\");\r\ndel.addEventListener(\"click\", () => {\r\n    Tree.delete(Number((<HTMLInputElement>document.getElementById(\"deleteKey\")).value));\r\n    document.getElementById(\"container\").innerHTML = \"\";\r\n    Tree.createRoot(key);\r\n    Tree.print(finds);\r\n});\r\n\r\nconst find = document.getElementById(\"find\");\r\n\r\nfind.addEventListener(\"click\", () => {\r\n    key = Number((<HTMLInputElement>document.getElementById(\"findKey\")).value);\r\n    finds = Tree.find(key);\r\n    document.getElementById(\"container\").innerHTML = \"\";\r\n    Tree.createRoot(key);\r\n    Tree.print(finds);\r\n});\r\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvYmluYXJ5LXRyZWUtbm9kZS50cyIsInNyYy9iaW5hcnktdHJlZS50cyIsInNyYy90ZXN0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7O0FDQUEsSUFBQSxpQkFBQSxhQUFBLFlBQUE7QUFLSSxhQUFBLGNBQUEsQ0FBWSxVQUFaLEVBQTJCLEdBQTNCLEVBQXNDO0FBQ2xDLGFBQUssS0FBTCxHQUFhLFVBQWI7QUFDQSxhQUFLLElBQUwsR0FBWSxHQUFaO0FBQ0g7QUFDTSxtQkFBQSxTQUFBLENBQUEsU0FBQSxHQUFQLFlBQUE7QUFDSSxZQUFNLE9BQWlCLEVBQXZCO0FBQ0EsYUFBSyxJQUFMLENBQVU7QUFDTixtQkFBTyxLQUFLLElBRE47QUFFTixvQkFBUSxLQUFLLEtBRlA7QUFHTix5QkFBYSxLQUFLLEtBSFo7QUFJTiwwQkFBYyxLQUFLO0FBSmIsU0FBVjtBQU1BLGVBQU8sSUFBUDtBQUNILEtBVE07QUFVQSxtQkFBQSxTQUFBLENBQUEsT0FBQSxHQUFQLFlBQUE7QUFDSSxlQUFPLEtBQUssS0FBWjtBQUNILEtBRk07QUFHQSxtQkFBQSxTQUFBLENBQUEsT0FBQSxHQUFQLFVBQWUsS0FBZixFQUF1QztBQUNuQyxhQUFLLEtBQUwsR0FBYSxLQUFiO0FBQ0gsS0FGTTtBQUdBLG1CQUFBLFNBQUEsQ0FBQSxRQUFBLEdBQVAsVUFBZ0IsS0FBaEIsRUFBd0M7QUFDcEMsYUFBSyxNQUFMLEdBQWMsS0FBZDtBQUNILEtBRk07QUFHQSxtQkFBQSxTQUFBLENBQUEsUUFBQSxHQUFQLFlBQUE7QUFDSSxlQUFPLEtBQUssTUFBWjtBQUNILEtBRk07QUFHQSxtQkFBQSxTQUFBLENBQUEsTUFBQSxHQUFQLFlBQUE7QUFDSSxlQUFPLEtBQUssSUFBWjtBQUNILEtBRk07QUFHWCxXQUFBLGNBQUE7QUFBQyxDQWxDRCxFQUFBO0FBQWEsUUFBQSxjQUFBLEdBQUEsY0FBQTs7Ozs7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aEI7QUFDQSxTQUFLLEtBQUwsQ0FBVyxLQUFYO0FBQ0gsQ0FMRDtBQU9BLElBQU0sTUFBTSxTQUFTLGNBQVQsQ0FBd0IsUUFBeEIsQ0FBWjtBQUNBLElBQUksZ0JBQUosQ0FBcUIsT0FBckIsRUFBOEIsWUFBQTtBQUMxQixTQUFLLE1BQUwsQ0FBWSxPQUEwQixTQUFTLGNBQVQsQ0FBd0IsV0FBeEIsRUFBc0MsS0FBaEUsQ0FBWjtBQUNBLGFBQVMsY0FBVCxDQUF3QixXQUF4QixFQUFxQyxTQUFyQyxHQUFpRCxFQUFqRDtBQUNBLFNBQUssVUFBTCxDQUFnQixHQUFoQjtBQUNBLFNBQUssS0FBTCxDQUFXLEtBQVg7QUFDSCxDQUxEO0FBT0EsSUFBTSxPQUFPLFNBQVMsY0FBVCxDQUF3QixNQUF4QixDQUFiO0FBRUEsS0FBSyxnQkFBTCxDQUFzQixPQUF0QixFQUErQixZQUFBO0FBQzNCLFVBQU0sT0FBMEIsU0FBUyxjQUFULENBQXdCLFNBQXhCLEVBQW9DLEtBQTlELENBQU47QUFDQSxZQUFRLEtBQUssSUFBTCxDQUFVLEdBQVYsQ0FBUjtBQUNBLGFBQVMsY0FBVCxDQUF3QixXQUF4QixFQUFxQyxTQUFyQyxHQUFpRCxFQUFqRDtBQUNBLFNBQUssVUFBTCxDQUFnQixHQUFoQjtBQUNBLFNBQUssS0FBTCxDQUFXLEtBQVg7QUFDSCxDQU5EIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKXtmdW5jdGlvbiByKGUsbix0KXtmdW5jdGlvbiBvKGksZil7aWYoIW5baV0pe2lmKCFlW2ldKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFmJiZjKXJldHVybiBjKGksITApO2lmKHUpcmV0dXJuIHUoaSwhMCk7dmFyIGE9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitpK1wiJ1wiKTt0aHJvdyBhLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsYX12YXIgcD1uW2ldPXtleHBvcnRzOnt9fTtlW2ldWzBdLmNhbGwocC5leHBvcnRzLGZ1bmN0aW9uKHIpe3ZhciBuPWVbaV1bMV1bcl07cmV0dXJuIG8obnx8cil9LHAscC5leHBvcnRzLHIsZSxuLHQpfXJldHVybiBuW2ldLmV4cG9ydHN9Zm9yKHZhciB1PVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsaT0wO2k8dC5sZW5ndGg7aSsrKW8odFtpXSk7cmV0dXJuIG99cmV0dXJuIHJ9KSgpIiwiZXhwb3J0IGNsYXNzIEJpbmFyeVRyZWVOb2RlPFQ+IHtcclxuICAgIHByaXZhdGUgX0xlZnQ6IEJpbmFyeVRyZWVOb2RlPFQ+O1xyXG4gICAgcHJpdmF0ZSBfUmlnaHQ6IEJpbmFyeVRyZWVOb2RlPFQ+O1xyXG4gICAgcHJpdmF0ZSBfS2V5OiBudW1iZXI7XHJcbiAgICBwcml2YXRlIF9EYXRhOiBUO1xyXG4gICAgY29uc3RydWN0b3IoaW5zZXJ0RGF0YTogVCwga2V5OiBudW1iZXIpIHtcclxuICAgICAgICB0aGlzLl9EYXRhID0gaW5zZXJ0RGF0YTtcclxuICAgICAgICB0aGlzLl9LZXkgPSBrZXk7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgcHJpbnROb2RlKCk6IG9iamVjdCB7XHJcbiAgICAgICAgY29uc3QgdHJlZTogb2JqZWN0W10gPSBbXTtcclxuICAgICAgICB0cmVlLnB1c2goe1xyXG4gICAgICAgICAgICBcImtleVwiOiB0aGlzLl9LZXksXHJcbiAgICAgICAgICAgIFwiZGF0YVwiOiB0aGlzLl9EYXRhLFxyXG4gICAgICAgICAgICBcImxlZnRDaGlsZFwiOiB0aGlzLl9MZWZ0LFxyXG4gICAgICAgICAgICBcInJpZ2h0Q2hpbGRcIjogdGhpcy5fUmlnaHRcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gdHJlZTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBnZXRMZWZ0KCk6IEJpbmFyeVRyZWVOb2RlPFQ+IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fTGVmdDtcclxuICAgIH1cclxuICAgIHB1YmxpYyBzZXRMZWZ0KHZhbHVlOiBCaW5hcnlUcmVlTm9kZTxUPik6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuX0xlZnQgPSB2YWx1ZTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBzZXRSaWdodCh2YWx1ZTogQmluYXJ5VHJlZU5vZGU8VD4pOiB2b2lkIHtcclxuICAgICAgICB0aGlzLl9SaWdodCA9IHZhbHVlO1xyXG4gICAgfVxyXG4gICAgcHVibGljIGdldFJpZ2h0KCk6IEJpbmFyeVRyZWVOb2RlPFQ+IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fUmlnaHQ7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgZ2V0S2V5KCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX0tleTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBCaW5hcnlUcmVlTm9kZSB9IGZyb20gXCIuL2JpbmFyeS10cmVlLW5vZGVcIjtcclxuZXhwb3J0IGNsYXNzIEJpbmFyeVRyZWU8VD4ge1xyXG4gICAgcHJpdmF0ZSBfcm9vdDogQmluYXJ5VHJlZU5vZGU8VD47XHJcbiAgICBwdWJsaWMgZmluZChrZXk6IG51bWJlcik6IEJpbmFyeVRyZWVOb2RlPFQ+IHtcclxuICAgICAgICBsZXQgY3VycmVudDogQmluYXJ5VHJlZU5vZGU8VD4gPSB0aGlzLl9yb290O1xyXG4gICAgICAgIHdoaWxlIChjdXJyZW50LmdldEtleSgpICE9PSBrZXkpIHtcclxuICAgICAgICAgICAgY3VycmVudCA9IGtleSA8IGN1cnJlbnQuZ2V0S2V5KCkgPyBjdXJyZW50LmdldExlZnQoKSA6IGN1cnJlbnQuZ2V0UmlnaHQoKTtcclxuICAgICAgICAgICAgaWYgKGN1cnJlbnQgPT09IHVuZGVmaW5lZCkgeyByZXR1cm4gbnVsbDsgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gY3VycmVudDtcclxuICAgIH1cclxuICAgIHB1YmxpYyBpbnNlcnQoaW5zZXJ0RGF0YTogVCwga2V5OiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgICBsZXQgY3VycmVudDogQmluYXJ5VHJlZU5vZGU8VD4gPSB0aGlzLl9yb290O1xyXG4gICAgICAgIGxldCBwYXJlbnQ6IEJpbmFyeVRyZWVOb2RlPFQ+O1xyXG4gICAgICAgIGNvbnN0IG5ld05vZGU6IEJpbmFyeVRyZWVOb2RlPFQ+ID0gbmV3IEJpbmFyeVRyZWVOb2RlPFQ+KGluc2VydERhdGEsIGtleSk7XHJcbiAgICAgICAgaWYgKHRoaXMuX3Jvb3QgPT09IHVuZGVmaW5lZCkgeyB0aGlzLl9yb290ID0gbmV3Tm9kZTsgfSBlbHNlIHtcclxuICAgICAgICAgICAgd2hpbGUgKHRydWUpIHtcclxuICAgICAgICAgICAgICAgIHBhcmVudCA9IGN1cnJlbnQ7XHJcbiAgICAgICAgICAgICAgICBpZiAoa2V5IDwgY3VycmVudC5nZXRLZXkoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50LmdldExlZnQoKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudC5zZXRMZWZ0KG5ld05vZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50ID0gY3VycmVudC5nZXRSaWdodCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50ID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50LnNldFJpZ2h0KG5ld05vZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuICAgIHB1YmxpYyBwcmludChzdGFydE5vZGU6IEJpbmFyeVRyZWVOb2RlPFQ+KTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHN0YXJ0Tm9kZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGlmIChzdGFydE5vZGUuZ2V0TGVmdCgpICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGxlZnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgICAgICAgICAgICAgbGVmdC5pZCA9IFwiXCIgKyBzdGFydE5vZGUuZ2V0TGVmdCgpLmdldEtleSgpO1xyXG4gICAgICAgICAgICAgICAgbGVmdC5zZXRBdHRyaWJ1dGUoXCJkYXRhLWJyYW5jaFwiLCBcImxlZnRcIik7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB0ZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XHJcbiAgICAgICAgICAgICAgICB0ZXh0LmFwcGVuZChzdGFydE5vZGUuZ2V0TGVmdCgpLmdldEtleSgpLnRvU3RyaW5nKCkpO1xyXG4gICAgICAgICAgICAgICAgbGVmdC5hcHBlbmRDaGlsZCh0ZXh0KTtcclxuICAgICAgICAgICAgICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChzdGFydE5vZGUuZ2V0S2V5KCkudG9TdHJpbmcoKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChzdGFydE5vZGUuZ2V0S2V5KCkudG9TdHJpbmcoKSkuYXBwZW5kQ2hpbGQobGVmdCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHN0YXJ0Tm9kZS5nZXRLZXkoKS50b1N0cmluZygpKS5hcHBlbmRDaGlsZChsZWZ0KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMucHJpbnQoc3RhcnROb2RlLmdldExlZnQoKSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoc3RhcnROb2RlLmdldFJpZ2h0KCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZWZ0LmNsYXNzTGlzdC5hZGQoXCJsZWZ0XCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHN0YXJ0Tm9kZS5nZXRMZWZ0KCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZWZ0LmNsYXNzTGlzdC5hZGQoXCJsZWZ0XCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChzdGFydE5vZGUuZ2V0UmlnaHQoKSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCByaWdodCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICAgICAgICAgICAgICByaWdodC5pZCA9IFwiXCIgKyBzdGFydE5vZGUuZ2V0UmlnaHQoKS5nZXRLZXkoKTtcclxuICAgICAgICAgICAgICAgIHJpZ2h0LnNldEF0dHJpYnV0ZShcImRhdGEtYnJhbmNoXCIsIFwicmlnaHRcIik7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB0ZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XHJcbiAgICAgICAgICAgICAgICB0ZXh0LmFwcGVuZChzdGFydE5vZGUuZ2V0UmlnaHQoKS5nZXRLZXkoKS50b1N0cmluZygpKTtcclxuICAgICAgICAgICAgICAgIHJpZ2h0LmFwcGVuZENoaWxkKHRleHQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHN0YXJ0Tm9kZS5nZXRLZXkoKS50b1N0cmluZygpKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHN0YXJ0Tm9kZS5nZXRLZXkoKS50b1N0cmluZygpKS5hcHBlbmRDaGlsZChyaWdodCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLnByaW50KHN0YXJ0Tm9kZS5nZXRSaWdodCgpKTtcclxuICAgICAgICAgICAgICAgIGlmIChzdGFydE5vZGUuZ2V0UmlnaHQoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJpZ2h0LmNsYXNzTGlzdC5hZGQoXCJyaWdodFwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHB1YmxpYyBnZXRTdWNjZXNzb3IoZGVsZXRlTm9kZTogQmluYXJ5VHJlZU5vZGU8VD4pOiBCaW5hcnlUcmVlTm9kZTxUPiB7XHJcbiAgICAgICAgbGV0IHBhcmVudFN1Y2Nlc3NvcjogQmluYXJ5VHJlZU5vZGU8VD47XHJcbiAgICAgICAgbGV0IHN1Y2Nlc3NvcjogQmluYXJ5VHJlZU5vZGU8VD4gPSBkZWxldGVOb2RlO1xyXG4gICAgICAgIGxldCBjdXJyZW50OiBCaW5hcnlUcmVlTm9kZTxUPiA9IHN1Y2Nlc3Nvci5nZXRSaWdodCgpO1xyXG4gICAgICAgIHdoaWxlIChjdXJyZW50ICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgcGFyZW50U3VjY2Vzc29yID0gc3VjY2Vzc29yO1xyXG4gICAgICAgICAgICBzdWNjZXNzb3IgPSBjdXJyZW50O1xyXG4gICAgICAgICAgICBjdXJyZW50ID0gY3VycmVudC5nZXRMZWZ0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChzdWNjZXNzb3IgIT09IGRlbGV0ZU5vZGUuZ2V0UmlnaHQoKSkge1xyXG4gICAgICAgICAgICBwYXJlbnRTdWNjZXNzb3Iuc2V0TGVmdChzdWNjZXNzb3IuZ2V0UmlnaHQoKSk7XHJcbiAgICAgICAgICAgIHN1Y2Nlc3Nvci5zZXRSaWdodChkZWxldGVOb2RlLmdldFJpZ2h0KCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gc3VjY2Vzc29yO1xyXG4gICAgfVxyXG4gICAgcHVibGljIGRlbGV0ZShrZXk6IG51bWJlcik6IGJvb2xlYW4ge1xyXG4gICAgICAgIGxldCBjdXJyZW50OiBCaW5hcnlUcmVlTm9kZTxUPiA9IHRoaXMuX3Jvb3Q7XHJcbiAgICAgICAgbGV0IHBhcmVudDogQmluYXJ5VHJlZU5vZGU8VD47XHJcbiAgICAgICAgbGV0IGlzTGVmdDogYm9vbGVhbiA9IGZhbHNlO1xyXG4gICAgICAgIHdoaWxlIChjdXJyZW50LmdldEtleSgpICE9PSBrZXkpIHtcclxuICAgICAgICAgICAgcGFyZW50ID0gY3VycmVudDtcclxuICAgICAgICAgICAgaWYgKGtleSA8IGN1cnJlbnQuZ2V0S2V5KCkpIHtcclxuICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50LmdldExlZnQoKTtcclxuICAgICAgICAgICAgICAgIGlzTGVmdCA9IHRydWU7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpc0xlZnQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50LmdldFJpZ2h0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGN1cnJlbnQgPT09IHVuZGVmaW5lZCkgeyByZXR1cm4gZmFsc2U7IH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGN1cnJlbnQuZ2V0TGVmdCgpID09PSB1bmRlZmluZWQgJiYgY3VycmVudC5nZXRSaWdodCgpID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgaWYgKGN1cnJlbnQgPT09IHRoaXMuX3Jvb3QpIHtcclxuICAgICAgICAgICAgICAgIGN1cnJlbnQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNMZWZ0KSB7XHJcbiAgICAgICAgICAgICAgICBwYXJlbnQuc2V0TGVmdCh1bmRlZmluZWQpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcGFyZW50LnNldFJpZ2h0KHVuZGVmaW5lZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2UgaWYgKGN1cnJlbnQuZ2V0UmlnaHQoKSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGlmIChjdXJyZW50ID09PSB0aGlzLl9yb290KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9yb290ID0gY3VycmVudC5nZXRMZWZ0KCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNMZWZ0KSB7XHJcbiAgICAgICAgICAgICAgICBwYXJlbnQuc2V0TGVmdChjdXJyZW50LmdldExlZnQoKSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjdXJyZW50LnNldFJpZ2h0KGN1cnJlbnQuZ2V0TGVmdCgpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSBpZiAoY3VycmVudC5nZXRMZWZ0KCkgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBpZiAoY3VycmVudCA9PT0gdGhpcy5fcm9vdCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fcm9vdCA9IGN1cnJlbnQuZ2V0UmlnaHQoKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChpc0xlZnQpIHtcclxuICAgICAgICAgICAgICAgIHBhcmVudC5zZXRMZWZ0KGN1cnJlbnQuZ2V0UmlnaHQoKSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBwYXJlbnQuc2V0UmlnaHQoY3VycmVudC5nZXRSaWdodCgpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHN1Y2Nlc3NvcjogQmluYXJ5VHJlZU5vZGU8VD4gPSB0aGlzLmdldFN1Y2Nlc3NvcihjdXJyZW50KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coc3VjY2Vzc29yKTtcclxuICAgICAgICAgICAgaWYgKGN1cnJlbnQgPT09IHRoaXMuX3Jvb3QpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3Jvb3QgPSBzdWNjZXNzb3I7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNMZWZ0KSB7XHJcbiAgICAgICAgICAgICAgICBwYXJlbnQuc2V0TGVmdChzdWNjZXNzb3IpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcGFyZW50LnNldFJpZ2h0KHN1Y2Nlc3Nvcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc3VjY2Vzc29yLnNldExlZnQoY3VycmVudC5nZXRMZWZ0KCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBjcmVhdGVSb290KGtleTogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgY29uc3Qgcm9vdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICAgICAgcm9vdC5pZCA9IFwiXCIgKyBrZXk7XHJcbiAgICAgICAgcm9vdC5zZXRBdHRyaWJ1dGUoXCJkYXRhLWJyYW5jaFwiLCBcInJvb3RcIik7XHJcbiAgICAgICAgY29uc3QgdGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xyXG4gICAgICAgIHRleHQuYXBwZW5kKGtleS50b1N0cmluZygpKTtcclxuICAgICAgICB0ZXh0LmNsYXNzTGlzdC5hZGQoXCJyb290LXRleHRcIik7XHJcbiAgICAgICAgcm9vdC5hcHBlbmRDaGlsZCh0ZXh0KTtcclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbnRhaW5lclwiKS5hcHBlbmRDaGlsZChyb290KTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBCaW5hcnlUcmVlIH0gZnJvbSBcIi4vYmluYXJ5LXRyZWVcIjtcclxuaW1wb3J0IHsgQmluYXJ5VHJlZU5vZGUgfSBmcm9tIFwiLi9iaW5hcnktdHJlZS1ub2RlXCI7XHJcblxyXG5jb25zdCBUcmVlOiBCaW5hcnlUcmVlPHN0cmluZz4gPSBuZXcgQmluYXJ5VHJlZTxzdHJpbmc+KCk7XHJcblxyXG5UcmVlLmluc2VydChcIkpvaG5cIiwgMyk7XHJcblRyZWUuaW5zZXJ0KFwiVDEwMDBcIiwgOCk7XHJcblRyZWUuaW5zZXJ0KFwiVDE1MDBcIiwgMTUpO1xyXG5UcmVlLmluc2VydChcIlQ1MDBcIiwgNSk7XHJcblRyZWUuaW5zZXJ0KFwiVDEyMDBcIiwgMTIpO1xyXG5UcmVlLmluc2VydChcIlQxMTAwXCIsIDExKTtcclxuVHJlZS5pbnNlcnQoXCJUMTMwMFwiLCAxMyk7XHJcblRyZWUuaW5zZXJ0KFwiVDEwMDBcIiwgMTApO1xyXG5UcmVlLmluc2VydChcIlQxMDAwXCIsIDE3KTtcclxuVHJlZS5pbnNlcnQoXCJTYXJhXCIsIDEpO1xyXG5UcmVlLmluc2VydChcIlQ4MDBcIiwgMik7XHJcblRyZWUuaW5zZXJ0KFwiVDQwMFwiLCA0KTtcclxuVHJlZS5pbnNlcnQoXCJUOTAwXCIsIDkpO1xyXG5cclxubGV0IGtleTogbnVtYmVyID0gMztcclxubGV0IGZpbmRzOiBCaW5hcnlUcmVlTm9kZTxzdHJpbmc+ID0gVHJlZS5maW5kKGtleSk7XHJcblRyZWUuY3JlYXRlUm9vdChrZXkpO1xyXG5UcmVlLnByaW50KGZpbmRzKTtcclxuXHJcbmNvbnN0IGFkZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYWRkXCIpO1xyXG5hZGQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgIFRyZWUuaW5zZXJ0KCg8SFRNTElucHV0RWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFkZEtleVwiKSkudmFsdWUsIE51bWJlcigoPEhUTUxJbnB1dEVsZW1lbnQ+ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhZGRLZXlcIikpLnZhbHVlKSk7XHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbnRhaW5lclwiKS5pbm5lckhUTUwgPSBcIlwiO1xyXG4gICAgVHJlZS5jcmVhdGVSb290KGtleSk7XHJcbiAgICBUcmVlLnByaW50KGZpbmRzKTtcclxufSk7XHJcblxyXG5jb25zdCBkZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRlbGV0ZVwiKTtcclxuZGVsLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICBUcmVlLmRlbGV0ZShOdW1iZXIoKDxIVE1MSW5wdXRFbGVtZW50PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZGVsZXRlS2V5XCIpKS52YWx1ZSkpO1xyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb250YWluZXJcIikuaW5uZXJIVE1MID0gXCJcIjtcclxuICAgIFRyZWUuY3JlYXRlUm9vdChrZXkpO1xyXG4gICAgVHJlZS5wcmludChmaW5kcyk7XHJcbn0pO1xyXG5cclxuY29uc3QgZmluZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZmluZFwiKTtcclxuXHJcbmZpbmQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgIGtleSA9IE51bWJlcigoPEhUTUxJbnB1dEVsZW1lbnQ+ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJmaW5kS2V5XCIpKS52YWx1ZSk7XHJcbiAgICBmaW5kcyA9IFRyZWUuZmluZChrZXkpO1xyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb250YWluZXJcIikuaW5uZXJIVE1MID0gXCJcIjtcclxuICAgIFRyZWUuY3JlYXRlUm9vdChrZXkpO1xyXG4gICAgVHJlZS5wcmludChmaW5kcyk7XHJcbn0pO1xyXG4iXX0="}